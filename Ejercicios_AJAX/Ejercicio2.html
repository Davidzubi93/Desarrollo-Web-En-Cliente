<DOCTYPE html>
<html>
    <head>
        <title>Ajax 2 Ariketa</title>
    </head>
    <body>
        <button type="button" onclick=" cargarXMLDoc()">Mostrar</button>
        <table id="tabla" border="4">
            <tr>
                <th>Director</th>
               <th>Titulo</th> 
            </tr>
        </table>
        <script>
            /*2.	Crear una página a la que le pediremos la lista de películas almacenadas en un fichero XML que estara en el servidor. 
            A la hora de mostrarlos, se creara una tabla y apareceran en dos columnas separadas.*/
            function cargarXMLDoc(){
                var peticion = new XMLHttpRequest();
            	peticion.onreadystatechange = function () {
            	    if (this.readyState == 4 && this.status == 200) {
            		    mostrarXML(this);
                    }
                };//function ()
            	peticion.open("GET", "prueba.xml", true); 
                peticion.send();
            }
            
            function mostrarXML(xml){
                var xmlDoc = xml.responseXML;
                var tabla= "<tr><th>Director</th><th>Titulo</th></tr>";
                var elemento= xmlDoc.getElementsByTagName("Pelicula");
                for (var i=0;i<elemento.length;i++){
                tabla +="<tr><td>"+
                elemento[i].getElementsByTagName("Director")[0].childNodes[0].nodeValue+ "</td><td>"+
                elemento[i].getElementsByTagName("Titulo")[0].childNodes[0].nodeValue+ "</td></tr>";
            }
            document.getElementById("tabla").innerHTMl = tabla;
        }
    </script>
    </body>
</html>